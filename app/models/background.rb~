class Background < ActiveRecord::Base
  belongs_to :post

  DEFAULT = Hash[:author => 'Dave Morrow', :flickr => 'http://www.flickr.com/photos/daves-f-stop/6803701386/', :naked => 'http://farm8.staticflickr.com/7200/6803701386_82682c2277_b.jpg', :author_link => 'http://www.flickr.com/people/daves-f-stop/', :cc_link => 'http://creativecommons.org/licenses/by-nc-sa/2.0/', :cc_logo => 'http://i.creativecommons.org/l/by-nc-sa/2.0/88x31.png', :cc_type => 5]

  attr_accessor :cc_link, :cc_logo
  def initialize
    if self.persisted?
      cc_string = case self.cc_type
      when 1 then 'by'
      when 2 then 'by-sa'
      when 3 then 'by-nd'
      when 4 then 'by-nc'
      when 5 then 'by-nc-sa'
      when 6 then 'by-nc-nd'
      end
      set_cc_settings cc_string
    end
  end
  
  private

  def set_cc_settings type
    @cc_link = 'http://creativecommons.org/licenses/' + type + '/3.0/'
    @cc_logo = 'http://i.creativecommons.org/l/' + type + '/3.0/88x31.png'
  end

end
